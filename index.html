<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0, user-scalable=no" name="viewport"/>
<title>ArapÃ§a HafÄ±za Oyunu</title>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Harmattan:wght@400;700&display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Marhey:wght@400;700&display=swap" rel="stylesheet"/>
<style>
        html { font-size: clamp(12px, 1.2vw, 16px); }

        :root {
            --bg-start: #f7f9fc; --bg-end: #e8eef5; --primary-color: #5E81AC; --accent-color: #f7b733; --surface-color: #FFFFFF; --text-color: #2e3440; --text-light-color: #FFFFFF; --player1-color: #64a7fa; --player2-color: #f77d7d; --correct-color: #2ddc73; --incorrect-color: #f24c4c; --shadow-light: rgba(46, 52, 64, 0.07); --shadow-medium: rgba(46, 52, 64, 0.12); --border-radius-sm: 8px; --border-radius-md: 12px; --border-radius-lg: 16px;
            --button-bg: var(--surface-color); --button-shadow: 0 3px #d8dee9; --button-hover-bg: #eceff4; --button-selected-bg: var(--primary-color); --button-selected-color: var(--text-light-color); --button-selected-shadow: 0 0 0 3px var(--accent-color);
        }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        html, body { width: 100%; height: 100%; margin: 0; padding: 0; overflow: hidden; }

        body { font-family: 'Marhey', sans-serif; background-color: var(--bg-start); background-image: linear-gradient(180deg, var(--bg-start) 0%, var(--bg-end) 100%); color: var(--text-color); text-align: center; text-rendering: optimizeLegibility; }
        button, input, select { font-family: inherit; } /* Select eklendi */

        #game-wrapper { width: 100%; height: 100%; position: relative; }

        .screen { display: none; width: 100%; height: 100%; flex-direction: column; justify-content: center; /* Ortala */ align-items: center; position: absolute; top: 0; left: 0; transition: opacity 0.5s; overflow-y: auto; padding: 20px; }
        .screen.active { display: flex; }

        /* --- BaÅŸlangÄ±Ã§ EkranÄ± --- */
        #start-screen { gap: 25px; }
        .start-title { font-size: clamp(2.2rem, 5vw, 3rem); color: var(--text-color); margin-bottom: 10px; }
        .start-options { display: flex; flex-direction: column; gap: 15px; width: 100%; max-width: 400px; }
        .option-group { display: flex; flex-direction: column; align-items: stretch; gap: 10px; }
        .option-group label { font-size: 1.2rem; font-weight: bold; color: var(--primary-color); margin-bottom: 5px; text-align: left; }
        .player-buttons { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .player-button, #lesson-select, #start-game-btn { background-color: var(--button-bg); border: none; border-radius: var(--border-radius-md); padding: 12px 15px; font-size: 1.2rem; font-weight: 500; color: var(--text-color); cursor: pointer; transition: all 0.2s ease; box-shadow: var(--button-shadow); text-align: center; }
        .player-button:hover, #lesson-select:hover, #start-game-btn:not(:disabled):hover { background-color: var(--button-hover-bg); transform: translateY(-1px); box-shadow: 0 4px #cdd3db; }
        .player-button:active, #start-game-btn:not(:disabled):active { transform: translateY(1px); box-shadow: 0 2px #d8dee9; }
        .player-button.selected { background-color: var(--button-selected-bg); color: var(--button-selected-color); font-weight: bold; box-shadow: var(--button-selected-shadow); transform: none; }
        #lesson-select { width: 100%; appearance: none; -webkit-appearance: none; background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%235E81AC'%3E%3Cpath d='M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z'/%3E%3C/svg%3E"); background-repeat: no-repeat; background-position: right 10px center; background-size: 24px; padding-right: 40px; text-align-last: center; /* Firefox iÃ§in */ }
        #start-game-btn { margin-top: 15px; font-size: 1.4rem; font-weight: bold; }
        #start-game-btn:disabled { background-color: #bdc3c7; color: #7f8c8d; opacity: 0.7; box-shadow: none; cursor: not-allowed; transform: none; }
        #start-game-btn:not(:disabled) { background-color: var(--correct-color); color: white; animation: button-glow 1.5s infinite ease-in-out; }

        /* --- Oyun EkranÄ± (Ã–ncekiyle Benzer) --- */
        .header-navigation { position: absolute; top: 10px; left: 10px; z-index: 200; }
        .back-btn { background: none; border: none; cursor: pointer; padding: 5px; }
        .back-btn svg { width: 35px; height: 35px; fill: var(--text-color); transition: all 0.2s; opacity: 0.8; filter: drop-shadow(0 1px 2px var(--shadow-light)); }
        .back-btn:hover svg { opacity: 1; transform: scale(1.1); }
        .hidden { display: none !important; }

        #game-screen { flex-direction: row; justify-content: space-between; padding: 15px; align-items: stretch; overflow: hidden; gap: 15px; }
        #game-screen.single-player-mode #player2-display { display: none; } /* P2'yi gizle */
        #game-screen.single-player-mode #player1-display { margin: 0 auto; /* Tek oyuncu skorunu ortala (opsiyonel) */ }
        #game-screen.single-player-mode #game-board { /* Kart alanÄ±nÄ± geniÅŸlet/ortala (opsiyonel) */ }

        .score-display { flex: 0 0 clamp(100px, 15%, 150px); max-width: 150px; height: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center; gap: clamp(10px, 3vh, 20px); font-size: clamp(2.5rem, 5vw, 4rem); font-weight: bold; transition: all 0.4s ease; opacity: 0.9; border-radius: var(--border-radius-lg); color: var(--text-light-color); border: none; }
        #player1-display { background: linear-gradient(180deg, var(--player1-color), #4e8dff); }
        #player2-display { background: linear-gradient(180deg, var(--player2-color), #f55a5a); }
        .score-display svg { width: clamp(40px, 10vw, 80px); height: clamp(40px, 10vw, 80px); fill: rgba(255,255,255,0.9); filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));}
        .score-display.active { opacity: 1; transform: scale(1.05); } /* Box-shadow kaldÄ±rÄ±ldÄ± */
        #player1-display.active { /* Gerekirse Ã¶zel stil */ }
        #player2-display.active { /* Gerekirse Ã¶zel stil */ }

        #game-board { flex-grow: 1; width: auto; margin: 0; padding: 0; display: grid; gap: clamp(6px, 1vw, 12px); perspective: 1200px; grid-template-columns: repeat(5, 1fr); grid-template-rows: repeat(4, 1fr); height: 100%; }
        .card { background-color: transparent; cursor: pointer; container-type: inline-size; }
        .card-inner { position: relative; width: 100%; height: 100%; transition: transform 0.6s; transform-style: preserve-3d; }
        .card.flipped .card-inner { transform: rotateY(180deg); }
        .card-face { position: absolute; width: 100%; height: 100%; -webkit-backface-visibility: hidden; backface-visibility: hidden; border-radius: var(--border-radius-md); display: flex; justify-content: center; align-items: center; padding: clamp(4px, 1cqw, 8px); word-break: break-word; font-size: clamp(1.2rem, 15cqw, 3rem); text-align: center; line-height: 1.1; }
        .card-front { background-color: var(--surface-color); box-shadow: 0 2px 8px var(--shadow-light); }
        .card-back { color: var(--text-light-color); transform: rotateY(180deg); background-color: var(--primary-color);}
        .card.p1-turn .card-back { background-color: var(--player1-color); }
        .card.p2-turn .card-back { background-color: var(--player2-color); }
        .card.p1-match .card-face.card-back { background-color: var(--player1-color); }
        .card.p2-match .card-face.card-back { background-color: var(--player2-color); }

        .game-over-overlay { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background-color: var(--surface-color); padding: 30px 50px; border-radius: var(--border-radius-lg); border: none; z-index: 200; display: flex; flex-direction: column; align-items: center; gap: 20px; box-shadow: 0 10px 40px rgba(0,0,0,0.2); }
        .game-over-overlay h2 { font-size: clamp(1.8rem, 4vw, 2.5rem); margin: 0; }
        #winner-icon-container { display: flex; justify-content: center; gap: 10px; }
        #winner-icon-container svg { width: clamp(50px, 10vw, 80px); height: clamp(50px, 10vw, 80px); }
        #memory-win-text.p1-win { color: var(--player1-color); }
        #winner-icon-container.p1-win svg { fill: var(--player1-color); }
        #memory-win-text.p2-win { color: var(--player2-color); }
        #winner-icon-container.p2-win svg { fill: var(--player2-color); }
        #memory-win-text.draw { color: var(--accent-color); }
        #winner-icon-container.draw svg { width: clamp(40px, 8vw, 60px); height: clamp(40px, 8vw, 60px); }
        #winner-icon-container.draw svg:first-child { fill: var(--player1-color); }
        #winner-icon-container.draw svg:last-child { fill: var(--player2-color); }

        .win-buttons { display: flex; gap: 30px; margin-top: 15px; }
        .win-buttons .icon-btn { background-color: transparent; border: none; cursor: pointer; transition: all 0.3s ease; padding: 5px;}
        .win-buttons .icon-btn:hover { transform: scale(1.1); }
        .win-buttons .icon-btn svg { width: clamp(40px, 8vw, 56px); height: clamp(40px, 8vw, 56px); fill: var(--primary-color); }
        .win-buttons .icon-btn:hover svg { fill: var(--accent-color); }

        @keyframes pulse-glow { 0%, 100% { transform: scale(1); filter: drop-shadow(0 0 5px rgba(94, 129, 172, 0.2)); } 50% { transform: scale(1.05); filter: drop-shadow(0 0 20px rgba(94, 129, 172, 0.6));} }
        @keyframes button-glow { 0%, 100% { box-shadow: 0 0 8px rgba(45, 220, 115, 0.5); } 50% { box-shadow: 0 0 20px rgba(45, 220, 115, 0.8); } }

        /* --- Media Queries --- */
        @media (max-width: 800px) {
             #start-screen { justify-content: flex-start; padding-top: 30px;} /* Mobil iÃ§in yukarÄ±dan baÅŸla */
             .start-title { margin-bottom: 20px; }
             .start-options { gap: 20px; }
             #game-screen { flex-direction: column; padding: 10px; gap: 10px; }
             .score-display { flex-direction: row; height: auto; width: 100%; max-width: none; font-size: 2rem; padding: 5px 10px; gap: 10px; order: -1; flex: 0 0 auto; /* YÃ¼ksekliÄŸi sabit olmasÄ±n */}
             .score-display svg { width: 30px; height: 30px; }
             #game-board { flex-grow: 1; margin: 0; /* Margin kaldÄ±rÄ±ldÄ± */ grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(5, 1fr); gap: 6px; width: 100%; }
             .card-face { font-size: clamp(1rem, 12cqw, 1.8rem); /* Biraz daha kÃ¼Ã§Ã¼ltÃ¼ldÃ¼ */ padding: 4px; border-radius: var(--border-radius-sm);}
             .game-over-overlay { padding: 20px 30px; width: 90%; }
             .win-buttons { gap: 25px;}
             .win-buttons .icon-btn svg { width: 44px; height: 44px; }
        }
        @media (max-height: 500px) and (orientation: landscape){
            /* Ã‡ok dar yatay ekranlar iÃ§in Ã¶zel ayar (Telefon yatay) */
            #game-screen { gap: 8px; padding: 8px; }
            .score-display { flex: 0 0 clamp(80px, 12%, 120px); gap: 5px; }
            .score-display svg { width: 30px; height: 30px; }
            #game-board { gap: 4px; }
            .card-face { font-size: clamp(0.9rem, 10cqw, 1.5rem); padding: 2px;}
        }


        /* Font Aileleri */
        html, body { font-family: 'Marhey', sans-serif !important; }
        .card-back[dir="rtl"] { font-family: 'Harmattan', sans-serif !important; }
        button, h1, h2, h3, .score-display, label, select { font-family: 'Marhey', sans-serif !important; }

</style>
</head>
<body>
<div id="game-wrapper">
    <div class="screen active" id="start-screen">
        <h1 class="start-title">ArapÃ§a HafÄ±za Oyunu</h1>
        <div class="start-options">
            <div class="option-group">
                <label for="player-select">Oyuncu SayÄ±sÄ±:</label>
                <div class="player-buttons" id="player-select">
                    <button class="player-button" data-players="1">Tek KiÅŸilik</button>
                    <button class="player-button" data-players="2">Ä°ki KiÅŸilik</button>
                </div>
            </div>
            <div class="option-group">
                <label for="lesson-select">Ders SeÃ§imi:</label>
                <select id="lesson-select" required>
                    <option value="" disabled selected>Ã–nce Ders SeÃ§in</option>
                    </select>
            </div>
            <button disabled id="start-game-btn">BaÅŸla</button>
        </div>
    </div>

    <div class="screen" id="game-screen">
        </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {

    // --- DATA MODULE ---
    const Data = { /* ... Ã–nceki Data iÃ§eriÄŸi ... */
        grade9: {
            title: "Seviye 1",
            words: {
                unit1: {
                    title: { tr: "1. Ãœnite" }, description: { tr: "SelamlaÅŸma ve TanÄ±ÅŸma" },
                    lessons: {
                        lesson1: { description: { tr: "SelamlaÅŸma" }, words: [ { id: 1, arabic: 'Ø§Ù„Ø³Ù‘ÙŽÙ„Ø§Ù… Ø¹ÙŽÙ„ÙŽÙŠÙ’ÙƒÙÙ…Ù’', turkish: 'Selam Ã¼zerinize olsun!' }, { id: 2, arabic: 'ÙˆÙŽØ¹ÙŽÙ„ÙŽÙŠÙ’ÙƒÙÙ… Ø§Ù„Ø³Ù‘ÙŽÙ„Ø§Ù…', turkish: 'Selam sizin de Ã¼zerinize olsun!' }, { id: 3, arabic: 'ØµÙŽØ¨Ø§Ø­ Ø§Ù„Ø®ÙŽÙŠÙ’Ø±', turkish: 'HayÄ±rlÄ± Sabahlar' }, { id: 4, arabic: 'ØµÙŽØ¨Ø§Ø­ Ø§Ù„Ù†Ù‘ÙˆØ±', turkish: 'GÃ¼naydÄ±n' }, { id: 5, arabic: 'Ù…ÙŽØ³Ø§Ø¡ Ø§Ù„Ø®ÙŽÙŠÙ’Ø±', turkish: 'Ä°yi akÅŸamlar' }, { id: 6, arabic: 'Ù…ÙŽØ³Ø§Ø¡ Ø§Ù„Ù†Ù‘ÙˆØ±', turkish: 'Ä°yi akÅŸamlar (cevap)' }, { id: 7, arabic: 'Ù…ÙŽØ±Ù’Ø­ÙŽØ¨Ù‹Ø§', turkish: 'Merhaba!' }, { id: 8, arabic: 'Ø£ÙŽÙ‡Ù’Ù„Ù‹Ø§ ÙˆÙŽØ³ÙŽÙ‡Ù’Ù„Ù‹Ø§', turkish: 'HoÅŸ geldiniz!' }, { id: 9, arabic: 'Ø£ÙŽÙ‡Ù’Ù„Ù‹Ø§ Ø¨ÙÙƒ', turkish: 'HoÅŸ bulduk!' }, { id: 10, arabic: 'ÙƒÙŽÙŠÙ’ÙÙŽ Ø­Ø§Ù„ÙÙƒØŸ', turkish: 'NasÄ±lsÄ±n?' }, { id: 11, arabic: 'Ø£ÙŽÙ†Ø§ Ø¨ÙØ®ÙŽÙŠÙ’Ø±', turkish: 'Ä°yiyimâ€«!â€¬' }, { id: 12, arabic: 'Ø¥ÙÙ„Ù‰ Ø§Ù„Ù„ÙÙ‘Ù‚Ø§Ø¡', turkish: 'GÃ¶rÃ¼ÅŸmek Ã¼zere!' }, { id: 13, arabic: 'Ù…ÙŽØ¹ Ø§Ù„Ø³ÙŽÙ‘Ù„Ø§Ù…ÙŽØ©', turkish: 'HoÅŸÃ§a kal' }, { id: 14, arabic: 'ÙÙŠ Ø£ÙŽÙ…Ø§Ù† Ø§Ù„Ù‘Ù°Ù„Ù‡Ù', turkish: 'Allahâ€™a emanet ol' }, { id: 15, arabic: 'Ø§ÙÙ‚Ù’Ø±ÙŽØ£Ù’', turkish: 'Oku!' }, { id: 16, arabic: 'Ø§ÙÙƒÙ’ØªÙØ¨Ù’', turkish: 'Yaz!' }, { id: 17, arabic: 'Ø£ÙŽØ¹ÙØ¯Ù’', turkish: 'Tekrar et!' }, { id: 18, arabic: 'Ø§ÙØ³Ù’ØªÙŽÙ…ÙØ¹Ù’', turkish: 'Dinle!' } ] },
                        lesson2: { description: { tr: "TanÄ±ÅŸma" }, words: [ { id: 19, arabic: 'Ø·Ø§Ù„ÙØ¨', turkish: 'Erkek Ã¶ÄŸrenci' }, { id: 20, arabic: 'Ù…ÙØ¯ÙŽØ±ÙÙ‘Ø³', turkish: 'Erkek Ã¶ÄŸretmen' }, { id: 21, arabic: 'ØµÙŽØ¯ÙŠÙ‚', turkish: 'Erkek arkadaÅŸ' }, { id: 22, arabic: 'Ù‡ÙÙˆÙŽ', turkish: 'O (erkek)' }, { id: 23, arabic: 'Ù‡ÙÙŠÙŽ', turkish: 'O (kadÄ±n)' }, { id: 24, arabic: 'Ø£ÙŽÙ†Ù’ØªÙŽ', turkish: 'Sen (erkek)' }, { id: 25, arabic: 'Ø£ÙŽÙ†Ø§', turkish: 'Ben' }, { id: 26, arabic: 'Ù…Ø§ Ø§Ø³Ù’Ù…ÙÙƒØŸ', turkish: 'AdÄ±n ne?' }, { id: 27, arabic: 'Ø§ÙØ³Ù’Ù…ÙŠ', turkish: 'Benim adÄ±m' }, { id: 28, arabic: 'Ù…ÙÙ† Ø£ÙŽÙŠÙ’Ù†ØŸ', turkish: 'Nereli?' }, { id: 29, arabic: 'Ù†ÙŽØ¹ÙŽÙ…', turkish: 'Evet' }, { id: 30, arabic: 'Ù„Ø§', turkish: 'HayÄ±r' }, { id: 31, arabic: 'ØªÙŽÙƒÙŽÙ„ÙŽÙ‘Ù…Ù’', turkish: 'KonuÅŸ' }, { id: 32, arabic: 'Ø§ÙØ³Ù’ÙƒÙØªÙ’', turkish: 'Sus' }, { id: 33, arabic: 'ØªÙŽØ¹Ø§Ù„ÙŽ', turkish: 'Gel' }, { id: 34, arabic: 'Ø§ÙØ°Ù’Ù‡ÙŽØ¨Ù’', turkish: 'Git' }, { id: 35, arabic: 'ØªÙŽØ´ÙŽØ±ÙŽÙ‘ÙÙ’ØªÙ', turkish: 'TanÄ±ÅŸtÄ±ÄŸÄ±ma memnun oldum' }, { id: 36, arabic: 'ÙÙØ±Ù’ØµÙŽØ© Ø³ÙŽØ¹ÙŠØ¯ÙŽØ©', turkish: 'Memnun oldum' }, { id: 37, arabic: 'Ø´ÙÙƒÙ’Ø±Ù‹Ø§', turkish: 'TeÅŸekkÃ¼r ederim' }, { id: 38, arabic: 'Ø¹ÙŽÙÙ’ÙˆÙ‹Ø§', turkish: 'Rica ederim' } ] }
                    }
                },
                 unit2: {
                    title: { tr: "2. Ãœnite" }, description: { tr: "Okulda" },
                    lessons: {
                         lesson1: { description: { tr: "SÄ±nÄ±f EÅŸyalarÄ±" }, words: [ { id: 101, arabic: 'Ù…ÙŽØ¯Ù’Ø±ÙŽØ³ÙŽØ©', turkish: 'Okul' }, { id: 102, arabic: 'ØµÙŽÙÙ‘', turkish: 'SÄ±nÄ±f' }, { id: 103, arabic: 'ÙƒÙØªØ§Ø¨', turkish: 'Kitap' }, { id: 104, arabic: 'Ø¯ÙŽÙÙ’ØªÙŽØ±', turkish: 'Defter' }, { id: 105, arabic: 'Ù‚ÙŽÙ„ÙŽÙ…', turkish: 'Kalem' }, { id: 106, arabic: 'Ø³ÙŽØ¨Ù‘ÙˆØ±Ø©', turkish: 'Tahta' }, { id: 107, arabic: 'ÙƒÙØ±Ù’Ø³ÙÙŠÙ‘', turkish: 'Sandalye' }, { id: 108, arabic: 'Ù…ÙŽÙƒÙ’ØªÙŽØ¨', turkish: 'Masa' }, { id: 109, arabic: 'Ù…ÙÙ…Ù’Ø­Ø§Ø©', turkish: 'Silgi' }, { id: 110, arabic: 'Ù…ÙØ³Ù’Ø·ÙŽØ±ÙŽØ©', turkish: 'Cetvel' }, { id: 111, arabic: 'Ø­ÙŽÙ‚ÙŠØ¨ÙŽØ©', turkish: 'Ã‡anta' }, { id: 112, arabic: 'Ø¨Ø§Ø¨', turkish: 'KapÄ±' }, { id: 113, arabic: 'Ù†Ø§ÙÙØ°ÙŽØ©', turkish: 'Pencere' } ] },
                         lesson2: { description: { tr: "YÃ¶nler ve Eylemler" }, words: [ { id: 114, arabic: 'Ø£ÙŽÙŠÙ’Ù†ØŸ', turkish: 'Nerede?' }, { id: 115, arabic: 'Ù‡ÙÙ†Ø§', turkish: 'Burada' }, { id: 116, arabic: 'Ù‡ÙÙ†Ø§Ùƒ', turkish: 'Orada' }, { id: 117, arabic: 'Ø¹ÙŽÙ„Ù‰', turkish: 'ÃœstÃ¼nde' }, { id: 118, arabic: 'ØªÙŽØ­Ù’Øª', turkish: 'AltÄ±nda' }, { id: 119, arabic: 'Ø£ÙŽÙ…Ø§Ù…', turkish: 'Ã–nÃ¼nde' }, { id: 120, arabic: 'Ø®ÙŽÙ„Ù’Ù', turkish: 'ArkasÄ±nda' }, { id: 121, arabic: 'ÙÙŽÙˆÙ’Ù‚', turkish: 'Ãœzerinde' }, { id: 122, arabic: 'Ø¬ÙŽØ§Ù†ÙØ¨', turkish: 'YanÄ±nda' }, { id: 123, arabic: 'ÙÙÙŠ', turkish: 'Ä°Ã§inde' }, { id: 124, arabic: 'Ø®ÙŽØ§Ø±ÙØ¬', turkish: 'DÄ±ÅŸÄ±nda' }, { id: 125, arabic: 'Ø§ÙÙÙ’ØªÙŽØ­', turkish: 'KitabÄ± aÃ§' }, { id: 126, arabic: 'Ø§ÙØ¬Ù’Ù„ÙØ³Ù’', turkish: 'Otur' }, { id: 127, arabic: 'Ø§ÙØ¯Ù’Ø®ÙÙ„Ù Ø§Ù„ØµÙŽÙ‘ÙÙŽÙ‘', turkish: 'SÄ±nÄ±fa gir' } ] }
                    }
                },
                unit3: {
                    title: { tr: "3. Ãœnite" }, description: { tr: "Evde" },
                    lessons: {
                        lesson1: { description: { tr: "Evdeyim" }, words: [ { id: 201, arabic: 'Ø¨ÙŽÙŠÙ’Øª', turkish: 'Ev' }, { id: 202, arabic: 'ØºÙØ±Ù’ÙÙŽØ©', turkish: 'Oda' }, { id: 203, arabic: 'ØºÙØ±Ù’ÙÙŽØ© Ø§Ù„Ù†ÙŽÙ‘ÙˆÙ’Ù…', turkish: 'Yatak odasÄ±' }, { id: 204, arabic: 'ØºÙØ±Ù’ÙÙŽØ© Ø¬ÙÙ„ÙˆØ³', turkish: 'Oturma odasÄ±' }, { id: 205, arabic: 'Ù…ÙŽØ·Ù’Ø¨ÙŽØ®', turkish: 'Mutfak' }, { id: 206, arabic: 'Ø­ÙŽÙ…Ù‘Ø§Ù…', turkish: 'Banyo' }, { id: 207, arabic: 'Ø³ÙŽØ±ÙŠØ±', turkish: 'Yatak' }, { id: 208, arabic: 'Ø·Ø§ÙˆÙÙ„ÙŽØ©', turkish: 'Masa' }, { id: 209, arabic: 'ÙƒÙØ±Ù’Ø³ÙÙŠÙ‘', turkish: 'Sandalye' }, { id: 210, arabic: 'ØªÙÙ„Ù’ÙØ§Ø²', turkish: 'Televizyon' }, { id: 211, arabic: 'Ø«ÙŽÙ„Ù‘Ø§Ø¬Ø©', turkish: 'BuzdolabÄ±' }, { id: 212, arabic: 'ÙÙØ±Ù’Ù†', turkish: 'FÄ±rÄ±n' }, { id: 213, arabic: 'Ø³ÙŽØ¬Ù‘Ø§Ø¯ÙŽØ©', turkish: 'HalÄ±' }, { id: 214, arabic: 'Ù‡ÙŽØ§ØªÙÙ', turkish: 'Telefon' }, { id: 215, arabic: 'Ù…ÙØµÙ’Ø¨Ø§Ø­', turkish: 'Lamba' } ] },
                        lesson2: { description: { tr: "Odamda" }, words: [ { id: 216, arabic: 'ØºÙØ±Ù’ÙÙŽØªÙŠ', turkish: 'Odam' }, { id: 217, arabic: 'Ø³ÙŽØ±ÙŠØ±', turkish: 'Yatak' }, { id: 218, arabic: 'Ù…ÙŽÙƒÙ’ØªÙŽØ¨', turkish: 'Ã‡alÄ±ÅŸma masasÄ±' }, { id: 219, arabic: 'ÙƒÙØ±Ù’Ø³ÙÙŠÙ‘', turkish: 'Sandalye' }, { id: 220, arabic: 'Ø³ÙØªØ§Ø±ÙŽØ©', turkish: 'Perde' }, { id: 221, arabic: 'Ù…ÙØµÙ’Ø¨Ø§Ø­', turkish: 'Lamba' }, { id: 222, arabic: 'Ù…ÙØ±Ù’Ø¢Ø©', turkish: 'Ayna' }, { id: 223, arabic: 'Ø³ÙŽØ¬Ù‘Ø§Ø¯ÙŽØ©', turkish: 'HalÄ±' }, { id: 224, arabic: 'Ø¯ÙÙˆÙ„Ø§Ø¨', turkish: 'Dolap' }, { id: 225, arabic: 'Ù†ÙŽØ¸ÙŠÙ', turkish: 'Temiz' }, { id: 226, arabic: 'Ù…ÙØ±ÙŽØªÙŽÙ‘Ø¨', turkish: 'DÃ¼zenli' }, { id: 227, arabic: 'ÙˆÙŽØ³ÙØ®', turkish: 'Kirli' }, { id: 228, arabic: 'ÙŠÙÙ†ÙŽØ¸ÙÙ‘ÙÙ', turkish: 'Temizliyor' }, { id: 229, arabic: 'ÙŠÙØ±ÙŽØªÙÙ‘Ø¨Ù', turkish: 'DÃ¼zenliyor' } ] }
                    }
                },
                unit4: {
                    title: { tr: "4. Ãœnite" }, description: { tr: "Bir GÃ¼nÃ¼m" },
                    lessons: {
                        lesson1: { description: { tr: "Bir GÃ¼nÃ¼m" }, words: [ { id: 301, arabic: 'ØµÙŽØ¨Ø§Ø­', turkish: 'Sabah' }, { id: 302, arabic: 'Ø¸ÙÙ‡Ù’Ø±', turkish: 'Ã–ÄŸle' }, { id: 303, arabic: 'Ù…ÙŽØ³Ø§Ø¡', turkish: 'AkÅŸam' }, { id: 304, arabic: 'Ù„ÙŽÙŠÙ’Ù„', turkish: 'Gece' }, { id: 305, arabic: 'ÙŠÙŽØ³Ù’ØªÙŽÙŠÙ’Ù‚ÙØ¸Ù', turkish: 'UyanÄ±yor' }, { id: 306, arabic: 'ÙŠÙŽØºÙ’Ø³ÙÙ„Ù ÙˆÙŽØ¬Ù’Ù‡ÙŽÙ‡Ù', turkish: 'YÃ¼zÃ¼nÃ¼ yÄ±kÄ±yor' }, { id: 307, arabic: 'ÙŠÙØµÙŽÙ„Ù‘ÙŠ', turkish: 'Namaz kÄ±lÄ±yor' }, { id: 308, arabic: 'ÙŠÙŽÙ„Ù’Ø¨ÙŽØ³Ù Ù…ÙŽÙ„Ø§Ø¨ÙØ³ÙŽÙ‡Ù', turkish: 'Giyiniyor' }, { id: 309, arabic: 'ÙŠÙŽØªÙŽÙ†Ø§ÙˆÙŽÙ„Ù Ø§Ù„ÙÙŽØ·ÙˆØ±', turkish: 'KahvaltÄ± yapÄ±yor' }, { id: 310, arabic: 'ÙŠÙŽØ°Ù’Ù‡ÙŽØ¨Ù Ø¥ÙÙ„Ù‰ Ø§Ù„Ù…ÙŽØ¯Ù’Ø±ÙŽØ³ÙŽØ©', turkish: 'Okula gidiyor' }, { id: 311, arabic: 'ÙÙŠÙŽØ¯Ù’Ø±ÙØ³', turkish: 'Ders Ã§alÄ±ÅŸÄ±yor' }, { id: 312, arabic: 'ÙŠÙŽØ±Ù’Ø¬ÙØ¹Ù Ø¥ÙÙ„Ù‰ Ø§Ù„Ø¨ÙŽÙŠÙ’Øª', turkish: 'Eve dÃ¶nÃ¼yor' }, { id: 313, arabic: 'ÙŠÙŽØªÙŽØºÙŽØ¯Ù‘Ù‰', turkish: 'Ã–ÄŸle yemeÄŸi yiyor' }, { id: 314, arabic: 'ÙŠÙŽØ³Ù’ØªÙŽØ±ÙŠØ­Ù', turkish: 'Dinleniyor' }, { id: 315, arabic: 'ÙŠÙŽÙ„Ù’Ø¹ÙŽØ¨Ù', turkish: 'Oynuyor' } ] },
                        lesson2: { description: { tr: "GÃ¼nlÃ¼k Rutin" }, words: [ { id: 316, arabic: 'Ø£ÙŽØ³Ù’ØªÙŽÙŠÙ’Ù‚ÙØ¸Ù Ù…ÙØ¨ÙŽÙƒÙÙ‘Ø±Ù‹Ø§', turkish: 'Erken uyanÄ±yorum' }, { id: 317, arabic: 'Ø£ÙŽØ°Ù’Ù‡ÙŽØ¨Ù Ø¥ÙÙ„Ù‰ Ø§Ù„Ù…ÙŽØ¯Ù’Ø±ÙŽØ³ÙŽØ©', turkish: 'Okula gidiyorum' }, { id: 318, arabic: 'Ø£ÙØµÙŽÙ„Ù‘ÙŠ ØµÙŽÙ„Ø§Ø© Ø§Ù„Ø¸ÙÙ‘Ù‡Ù’Ø±', turkish: 'Ã–ÄŸle namazÄ± kÄ±lÄ±yorum' }, { id: 319, arabic: 'Ø£ÙŽØªÙŽØºÙŽØ¯Ù‘Ù‰ Ù…ÙŽØ¹ Ø£ÙØ³Ù’Ø±ÙŽØªÙŠ', turkish: 'Ailemle Ã¶ÄŸle yemeÄŸi yiyorum' }, { id: 320, arabic: 'Ø£ÙŽÙ‚Ù’Ø±ÙŽØ£Ù Ø¯ÙØ±ÙˆØ³ÙŠ', turkish: 'Derslerimi okuyorum' }, { id: 321, arabic: 'Ø£ÙŽÙƒÙ’ØªÙØ¨Ù ÙˆØ§Ø¬ÙØ¨Ø§ØªÙŠ', turkish: 'Ã–dev yazÄ±yorum' }, { id: 322, arabic: 'Ø£ÙŽÙ„Ù’Ø¹ÙŽØ¨Ù ÙÙŠ Ø§Ù„Ø³Ù‘Ø§Ø­ÙŽØ©', turkish: 'BahÃ§ede oynuyorum' }, { id: 323, arabic: 'Ø£ÙØ³Ø§Ø¹ÙØ¯Ù Ø£ÙÙ…Ù‘ÙŠ', turkish: 'Anneme yardÄ±m ediyorum' }, { id: 324, arabic: 'Ø£ÙŽØ²ÙˆØ±Ù Ø¬ÙŽØ¯ÙÙŠ', turkish: 'Dedemi ziyaret ediyorum' }, { id: 325, arabic: 'Ø£ÙŽØ°Ù’Ù‡ÙŽØ¨Ù Ø¥ÙÙ„Ù‰ Ø§Ù„Ù…ÙŽØ³Ù’Ø¬ÙØ¯', turkish: 'Camiye gidiyorum' }, { id: 326, arabic: 'Ø£ÙØ±ÙŽØªÙÙ‘Ø¨Ù Ø³ÙŽØ±ÙŠØ±ÙŠ', turkish: 'YataÄŸÄ±mÄ± dÃ¼zeltiyorum' }, { id: 327, arabic: 'Ø£ÙÙ†ÙŽØ¸ÙÙ‘ÙÙ ØºÙØ±Ù’ÙÙŽØªÙŠ', turkish: 'OdamÄ± temizliyorum' }, { id: 328, arabic: 'Ø£ÙØ±Ø§Ø¬ÙØ¹Ù Ø¯ÙØ±ÙˆØ³ÙŠ', turkish: 'Derslerimi tekrar ediyorum' }, { id: 329, arabic: 'Ø£ÙŽÙ†Ø§Ù…Ù Ù…ÙØªÙŽØ£ÙŽØ®ÙÙ‘Ø±Ù‹Ø§', turkish: 'GeÃ§ yatÄ±yorum' } ] }
                    }
                }
            }
        },
        grade10: {
            title: "Seviye 2",
            words: {
                unit1: {
                    title: { tr: "1. Ãœnite" }, description: { tr: "DeÄŸerlerim ve Ailem" },
                    lessons: {
                        lesson1: { description: { tr: "GÃ¼zel DavranÄ±ÅŸlar" }, words: [ { id: 401, arabic: 'ØµÙØ¯Ù’Ù‚', turkish: 'DoÄŸruluk' }, { id: 402, arabic: 'Ø£ÙŽÙ…Ø§Ù†ÙŽØ©', turkish: 'GÃ¼venilirlik' }, { id: 403, arabic: 'Ø¥ÙØ®Ù’Ù„Ø§Øµ', turkish: 'Samimiyet' }, { id: 404, arabic: 'ØªÙŽØ¹Ø§ÙˆÙÙ†', turkish: 'YardÄ±mlaÅŸma' }, { id: 405, arabic: 'Ø§ÙØ­Ù’ØªÙØ±Ø§Ù…', turkish: 'SaygÄ±' }, { id: 406, arabic: 'Ù…ÙŽØ­ÙŽØ¨ÙŽÙ‘Ø©', turkish: 'Sevgi' }, { id: 407, arabic: 'Ø´ÙÙƒÙ’Ø±', turkish: 'TeÅŸekkÃ¼r' }, { id: 408, arabic: 'Ø§Ù„ÙØ§Ø¹Ù’ØªÙØ°Ø§Ø±', turkish: 'Ã–zÃ¼r dileme' }, { id: 409, arabic: 'Ø±ÙŽØ­Ù’Ù…ÙŽØ©', turkish: 'Merhamet' }, { id: 410, arabic: 'ØµÙŽØ¨Ù’Ø±', turkish: 'SabÄ±r' }, { id: 411, arabic: 'Ø¹ÙŽØ¯Ù’Ù„', turkish: 'Adalet' }, { id: 412, arabic: 'ØªÙŽÙˆØ§Ø¶ÙØ¹', turkish: 'AlÃ§akgÃ¶nÃ¼llÃ¼lÃ¼k' }, { id: 413, arabic: 'ÙŠÙØ³Ø§Ø¹ÙØ¯Ù', turkish: 'YardÄ±m ediyor' }, { id: 414, arabic: 'ÙŠÙØ­ÙØ¨ÙÙ‘', turkish: 'Seviyor' }, { id: 415, arabic: 'ÙŠÙŽØ¨Ù’ØªÙŽØ³ÙÙ…Ù', turkish: 'GÃ¼lÃ¼msÃ¼yor' } ] },
                        lesson2: { description: { tr: "Mutlu Aile" }, words: [ { id: 416, arabic: 'Ø£ÙØ³Ù’Ø±ÙŽØ©', turkish: 'Aile' }, { id: 417, arabic: 'Ø£ÙŽØ¨', turkish: 'Baba' }, { id: 418, arabic: 'Ø£ÙÙ…Ù‘', turkish: 'Anne' }, { id: 419, arabic: 'Ø£ÙŽØ®', turkish: 'Erkek kardeÅŸ' }, { id: 420, arabic: 'Ø£ÙØ®Ù’Øª', turkish: 'KÄ±z kardeÅŸ' }, { id: 421, arabic: 'Ø¬ÙŽØ¯Ù‘', turkish: 'Dede' }, { id: 422, arabic: 'Ø¬ÙŽØ¯ÙŽÙ‘Ø©', turkish: 'Nine' }, { id: 423, arabic: 'Ø¹ÙŽÙ…Ù‘', turkish: 'Amca' }, { id: 424, arabic: 'Ø¹ÙŽÙ…ÙŽÙ‘Ø©', turkish: 'Hala' }, { id: 425, arabic: 'Ø®ÙŽØ§Ù„', turkish: 'DayÄ±' }, { id: 426, arabic: 'Ø®Ø§Ù„ÙŽØ©', turkish: 'Teyze' }, { id: 427, arabic: 'Ø£ÙŽÙ‚Ø§Ø±ÙØ¨', turkish: 'Akrabalar' }, { id: 428, arabic: 'ÙŠÙŽØ²ÙˆØ±Ù Ø§Ù„Ø£ÙŽÙ‚Ø§Ø±ÙØ¨', turkish: 'AkrabalarÄ± ziyaret ediyor' }, { id: 429, arabic: 'ÙŠÙŽØ­Ù’ØªÙŽØ±ÙÙ…Ù Ø§Ù„ÙƒÙØ¨Ø§Ø±', turkish: 'BÃ¼yÃ¼klere saygÄ± gÃ¶steriyor' }, { id: 430, arabic: 'ÙŠÙŽØ±Ù’Ø­ÙŽÙ…Ù Ø§Ù„ØµÙÙ‘ØºØ§Ø±', turkish: 'KÃ¼Ã§Ã¼klere merhamet ediyor' } ] }
                    }
                },
                unit2: {
                    title: { tr: "2. Ãœnite" }, description: { tr: "Kendimi KeÅŸfediyorum" },
                    lessons: {
                        lesson1: { description: { tr: "Ben Kimim?" }, words: [ { id: 501, arabic: 'Ù…ÙŽÙ† Ø£ÙŽÙ†Ø§ØŸ', turkish: 'Ben kimim?' }, { id: 502, arabic: 'Ø§ÙØ³Ù’Ù…', turkish: 'Ä°sim' }, { id: 503, arabic: 'Ø¹ÙÙ…Ù’Ø±', turkish: 'YaÅŸ' }, { id: 504, arabic: 'Ù…ÙÙ‡Ù’Ù†ÙŽØ©', turkish: 'Meslek' }, { id: 505, arabic: 'Ù‡ÙÙˆØ§ÙŠÙŽØ©', turkish: 'Hobi' }, { id: 506, arabic: 'Ù…ÙŽÙˆÙ’Ù‡ÙØ¨ÙŽØ©', turkish: 'Yetenek' }, { id: 507, arabic: 'Ø·ÙŽÙŠÙÙ‘Ø¨', turkish: 'Ä°yi kalpli' }, { id: 508, arabic: 'Ù…ÙØ¬Ù’ØªÙŽÙ‡ÙØ¯', turkish: 'Ã‡alÄ±ÅŸkan' }, { id: 509, arabic: 'ÙƒÙŽØ³ÙˆÙ„', turkish: 'Tembel' }, { id: 510, arabic: 'Ù‡Ø§Ø¯ÙØ¦', turkish: 'Sakin' }, { id: 511, arabic: 'Ù†ÙŽØ´ÙŠØ·', turkish: 'Enerjik' }, { id: 512, arabic: 'Ù…ÙØ¨Ù’ØªÙŽØ³ÙÙ…', turkish: 'GÃ¼leryÃ¼zlÃ¼' }, { id: 513, arabic: 'ØµÙŽØ¨ÙˆØ±', turkish: 'SabÄ±rlÄ±' }, { id: 514, arabic: 'Ø£ÙŽØ­Ù’Ù„Ø§Ù…ÙŠ', turkish: 'Hayallerim' }, { id: 515, arabic: 'Ù…ÙØ³Ù’ØªÙŽÙ‚Ù’Ø¨ÙŽÙ„', turkish: 'Gelecek' } ] },
                        lesson2: { description: { tr: "Hobilerim" }, words: [ { id: 516, arabic: 'Ù‚ÙØ±Ø§Ø¡ÙŽØ©', turkish: 'Okuma' }, { id: 517, arabic: 'ÙƒÙØªØ§Ø¨ÙŽØ©', turkish: 'Yazma' }, { id: 518, arabic: 'Ø±ÙŽØ³Ù’Ù…', turkish: 'Resim yapma' }, { id: 519, arabic: 'Ø·ÙŽØ¨Ù’Ø®', turkish: 'Yemek piÅŸirme' }, { id: 520, arabic: 'ØªÙŽØµÙ’ÙˆÙŠØ±', turkish: 'FotoÄŸrafÃ§Ä±lÄ±k' }, { id: 521, arabic: 'Ø±ÙÙŠØ§Ø¶ÙŽØ©', turkish: 'Spor' }, { id: 522, arabic: 'ÙƒÙØ±ÙŽØ© Ø§Ù„Ù‚ÙŽØ¯ÙŽÙ…', turkish: 'Futbol' }, { id: 523, arabic: 'ÙƒÙØ±ÙŽØ© Ø§Ù„Ø³ÙŽÙ‘Ù„ÙŽÙ‘Ø©', turkish: 'Basketbol' }, { id: 524, arabic: 'Ø³ÙŽÙÙŽØ±', turkish: 'Seyahat' }, { id: 525, arabic: 'Ø·ÙŽØ¨ÙŠØ¹ÙŽØ©', turkish: 'DoÄŸa' }, { id: 526, arabic: 'Ø£ÙŽÙÙ’Ù„Ø§Ù…', turkish: 'Filmler' }, { id: 527, arabic: 'Ù…ÙˆØ³ÙŠÙ‚Ù‰', turkish: 'MÃ¼zik' }, { id: 528, arabic: 'Ù…ÙŽÙƒÙ’ØªÙŽØ¨ÙŽØ©', turkish: 'KÃ¼tÃ¼phane' }, { id: 529, arabic: 'ÙÙŠ Ø§Ù„ÙˆÙŽÙ‚Ù’Øª Ø§Ù„ÙØ§Ø±ÙØº', turkish: 'BoÅŸ zamanlarda' }, { id: 530, arabic: 'Ù…ÙÙÙŠØ¯', turkish: 'FaydalÄ±' }, { id: 531, arabic: 'Ù…ÙÙ…Ù’ØªÙØ¹', turkish: 'EÄŸlenceli' } ] }
                    }
                },
                unit3: {
                    title: { tr: "3. Ãœnite" }, description: { tr: "Zaman ve Hayat" },
                    lessons: {
                        lesson1: { description: { tr: "ZamanÄ±m ve HayatÄ±m" }, words: [ { id: 601, arabic: 'ÙˆÙŽÙ‚Ù’ØªÙŠ', turkish: 'ZamanÄ±m' }, { id: 602, arabic: 'Ø­ÙŽÙŠØ§ØªÙŠ', turkish: 'HayatÄ±m' }, { id: 603, arabic: 'Ù†ÙŽÙˆÙ’Ù…', turkish: 'Uyku' }, { id: 604, arabic: 'Ø¹ÙŽÙ…ÙŽÙ„', turkish: 'Ã‡alÄ±ÅŸma' }, { id: 605, arabic: 'Ø§ÙØ³Ù’ØªÙØ±Ø§Ø­ÙŽØ©', turkish: 'Dinlenme' }, { id: 606, arabic: 'Ù†ÙŽÙ‡Ø§Ø±', turkish: 'GÃ¼ndÃ¼z' }, { id: 607, arabic: 'ÙŠÙÙ†ÙŽØ¸ÙÙ‘Ù…Ù', turkish: 'DÃ¼zenliyor' }, { id: 608, arabic: 'ÙŠÙØ®ÙŽØ·ÙÙ‘Ø·Ù', turkish: 'PlanlÄ±yor' }, { id: 609, arabic: 'ÙŠÙŽØ¯Ù’Ø±ÙØ³Ù', turkish: 'Ders Ã§alÄ±ÅŸÄ±yor' }, { id: 610, arabic: 'ÙŠÙŽØ³Ù’ØªÙŽØ±ÙŠØ­Ù', turkish: 'Dinleniyor' }, { id: 611, arabic: 'ÙƒÙÙ„Ù‘ ÙŠÙŽÙˆÙ’Ù…', turkish: 'Her gÃ¼n' }, { id: 612, arabic: 'Ø£ÙŽØ­Ù’ÙŠØ§Ù†Ù‹Ø§', turkish: 'Bazen' }, { id: 613, arabic: 'Ù†Ø§Ø¯ÙØ±Ù‹Ø§', turkish: 'Nadiren' }, { id: 614, arabic: 'Ø¯Ø§Ø¦ÙÙ…Ù‹Ø§', turkish: 'Her zaman' }, { id: 615, arabic: 'Ù†ÙŽØ¬Ø§Ø­', turkish: 'BaÅŸarÄ±' } ] },
                        lesson2: { description: { tr: "ZamanÄ±mÄ± DeÄŸerlendiriyorum" }, words: [ { id: 616, arabic: 'ØªÙŽÙ‘Ø®Ù’Ø·ÙŠØ·', turkish: 'Planlama' }, { id: 617, arabic: 'ÙÙŽØ´ÙŽÙ„', turkish: 'BaÅŸarÄ±sÄ±zlÄ±k' }, { id: 618, arabic: 'Ø¬ÙØ¯Ù‘', turkish: 'Ciddiyet' }, { id: 619, arabic: 'ÙƒÙŽØ³ÙŽÙ„', turkish: 'Tembellik' }, { id: 620, arabic: 'Ø­ÙÙƒÙ’Ù…ÙŽØ©', turkish: 'Bilgelik' }, { id: 621, arabic: 'Ø¥ÙØ¨Ù’Ø¯Ø§Ø¹', turkish: 'YaratÄ±cÄ±lÄ±k' }, { id: 622, arabic: 'Ù„Ø§ ÙŠÙØ¤ÙŽØ¬ÙÙ‘Ù„Ù', turkish: 'Ertelemiyor' }, { id: 623, arabic: 'ÙŠÙŽØ³Ù’ØªÙŽØºÙÙ„ÙÙ‘ Ø§Ù„ÙˆÙŽÙ‚Ù’Øª', turkish: 'ZamanÄ± deÄŸerlendiriyor' }, { id: 624, arabic: 'ÙŠÙØ¶ÙŽÙŠÙÙ‘Ø¹Ù Ø§Ù„ÙˆÙŽÙ‚Ù’Øª', turkish: 'ZamanÄ± boÅŸa harcÄ±yor' }, { id: 625, arabic: 'ÙŠÙŽÙˆÙ’Ù…', turkish: 'GÃ¼n' }, { id: 626, arabic: 'Ø£ÙØ³Ù’Ø¨ÙˆØ¹', turkish: 'Hafta' }, { id: 627, arabic: 'Ù…ÙØ³Ù’ØªÙŽÙ‚Ù’Ø¨ÙŽÙ„', turkish: 'Gelecek' }, { id: 628, arabic: 'Ø­Ø§Ø¶ÙØ±', turkish: 'Åžimdi' }, { id: 629, arabic: 'Ù…ÙŽØ§Ø¶ÙŠ', turkish: 'GeÃ§miÅŸ' }, { id: 630, arabic: 'ØªÙŽØ·Ù’ÙˆÙŠØ± Ø§Ù„Ù†ÙŽÙ‘ÙÙ’Ø³', turkish: 'Kendini geliÅŸtirme' } ] }
                    }
                },
                 unit4: {
                    title: { tr: "4. Ãœnite" }, description: { tr: "SaÄŸlÄ±k ve Beslenme" },
                    lessons: {
                        lesson1: { description: { tr: "SaÄŸlÄ±klÄ± YaÅŸam" }, words: [ { id: 701, arabic: 'Ø¬ÙØ³Ù’Ù…', turkish: 'VÃ¼cut' }, { id: 702, arabic: 'Ø¹ÙŽÙ‚Ù’Ù„', turkish: 'AkÄ±l' }, { id: 703, arabic: 'Ù†ÙŽØ¸Ù‘Ø§ÙÙŽØ©', turkish: 'Temizlik' }, { id: 704, arabic: 'ØºÙØ°Ø§Ø¡', turkish: 'Beslenme' }, { id: 705, arabic: 'ØµÙØ­ÙŽÙ‘Ø©', turkish: 'SaÄŸlÄ±k' }, { id: 706, arabic: 'Ù…ÙŽØ±ÙŽØ¶', turkish: 'HastalÄ±k' }, { id: 707, arabic: 'Ø·ÙŽØ¨ÙŠØ¨', turkish: 'Doktor' }, { id: 708, arabic: 'Ø¯ÙŽÙˆØ§Ø¡', turkish: 'Ä°laÃ§' }, { id: 709, arabic: 'Ø£ÙŽØ³Ù’Ù†Ø§Ù†', turkish: 'DiÅŸler' }, { id: 710, arabic: 'Ø§Ù„Ù†ÙŽÙ‘Ø¸Ù‘Ø§ÙÙŽØ© Ù…ÙÙ† Ø§Ù„Ø¥ÙÙŠÙ…Ø§Ù†', turkish: 'Temizlik imandandÄ±r' }, { id: 711, arabic: 'ÙŠÙÙÙŽØ±ÙÙ‘Ø´Ù Ø§Ù„Ø£ÙŽØ³Ù’Ù†Ø§Ù†', turkish: 'DiÅŸ fÄ±rÃ§alÄ±yor' }, { id: 712, arabic: 'ÙŠÙŽØ³Ù’ØªÙŽØ­ÙÙ…Ù‘Ù', turkish: 'Banyo yapÄ±yor' }, { id: 713, arabic: 'ÙŠÙŽÙ†Ø§Ù…Ù Ù…ÙØ¨ÙŽÙƒÙÙ‘Ø±Ù‹Ø§', turkish: 'Erken uyuyor' }, { id: 714, arabic: 'ØµÙØ­ÙÙ‘ÙŠÙ‘', turkish: 'SaÄŸlÄ±klÄ±' }, { id: 715, arabic: 'ÙŠÙÙ…Ø§Ø±ÙØ³Ù Ø§Ù„Ø±Ù‘ÙÙŠØ§Ø¶ÙŽØ©', turkish: 'Spor yapÄ±yor' } ] },
                        lesson2: { description: { tr: "SaÄŸlÄ±klÄ± Beslenme" }, words: [ { id: 716, arabic: 'ÙÙŽÙˆØ§ÙƒÙÙ‡', turkish: 'Meyveler' }, { id: 717, arabic: 'Ø®ÙØ¶Ù’Ø±Ø§ÙˆØ§Øª', turkish: 'Sebzeler' }, { id: 718, arabic: 'Ù„ÙŽØ­Ù’Ù…', turkish: 'Et' }, { id: 719, arabic: 'Ø³ÙŽÙ…ÙŽÙƒ', turkish: 'BalÄ±k' }, { id: 720, arabic: 'Ù„ÙŽØ¨ÙŽÙ†', turkish: 'SÃ¼t' }, { id: 721, arabic: 'Ø¬ÙØ¨Ù’Ù†', turkish: 'Peynir' }, { id: 222, arabic: 'Ø¨ÙŽÙŠÙ’Ø¶', turkish: 'Yumurta' }, { id: 723, arabic: 'Ø®ÙØ¨Ù’Ø²', turkish: 'Ekmek' }, { id: 724, arabic: 'Ù…Ø§Ø¡', turkish: 'Su' }, { id: 725, arabic: 'Ø¹ÙŽØµÙŠØ±', turkish: 'Meyve suyu' }, { id: 726, arabic: 'Ø§Ù„Ø·Ù‘ÙŽØ¹Ø§Ù… Ø§Ù„Ø³Ù‘ÙŽØ±ÙŠØ¹', turkish: 'Fast food' }, { id: 727, arabic: 'Ø§Ù„Ù…ÙŽØ´Ù’Ø±ÙˆØ¨Ø§Øª Ø§Ù„ØºØ§Ø²ÙÙŠÙŽØ©', turkish: 'GazlÄ± iÃ§ecekler' }, { id: 728, arabic: 'ÙÙŽØ·ÙˆØ±', turkish: 'KahvaltÄ±' }, { id: 729, arabic: 'ØºÙŽØ¯Ø§Ø¡', turkish: 'Ã–ÄŸle yemeÄŸi' }, { id: 730, arabic: 'Ø¹ÙŽØ´Ø§Ø¡', turkish: 'AkÅŸam yemeÄŸi' } ] }
                    }
                }
            }
        }
    };
    // --- UTILS MODULE ---
    const Utils = { shuffleArray: (arr) => [...arr].sort(() => 0.5 - Math.random()) };

    // --- APP MODULE (Ä°lerlemeli Tek Oyun iÃ§in GÃ¼ncellendi) ---
    const App = {
        state: {
            selectedPlayers: null,
            selectedLessonId: null, // Ã–rn: "grade9-unit1-lesson1"
            unlockedLessons: [], // localStorage'dan yÃ¼klenecek
            isAudioInitialized: false,
            audioCtx: null,
        },
        dom: {
            screens: document.querySelectorAll('.screen'),
            startScreen: document.getElementById('start-screen'),
            gameScreen: document.getElementById('game-screen'),
            playerSelect: document.getElementById('player-select'),
            lessonSelect: document.getElementById('lesson-select'),
            startGameBtn: document.getElementById('start-game-btn'),
        },
        init() {
            this.initAudio();
            this.loadProgress(); // Ä°lerlemeyi yÃ¼kle
            this.populateLessonSelector(); // Dersleri doldur
            this.initStartScreenListeners(); // BaÅŸlangÄ±Ã§ ekranÄ± butonlarÄ±
            this.initNavigation(); // Oyun iÃ§i navigasyon (geri/tekrar oyna)
            MemoryGame.init();
            this.showScreen('start-screen'); // BaÅŸlangÄ±Ã§ ekranÄ±nÄ± gÃ¶ster
        },
        showScreen(screenId) {
            this.dom.screens.forEach(screen => screen.classList.remove('active'));
            const targetScreen = document.getElementById(screenId);
            if (targetScreen) {
                targetScreen.classList.add('active');
                targetScreen.scrollTop = 0;
            }
            if (screenId === 'start-screen') {
                 // Oyundan baÅŸlangÄ±Ã§ ekranÄ±na dÃ¶nÃ¼ldÃ¼ÄŸÃ¼nde ders listesini gÃ¼ncelle
                 this.populateLessonSelector();
                 // Ã–nceki seÃ§imleri temizle (isteÄŸe baÄŸlÄ±)
                 // this.state.selectedPlayers = null;
                 // this.state.selectedLessonId = null;
                 // this.updateSelection(this.dom.playerSelect, null);
                 // this.dom.lessonSelect.value = "";
                 this.checkStartButtonState();
            }
        },
        initAudio() { /* ... Ã–ncekiyle aynÄ± ... */ if (this.state.audioCtx && this.state.audioCtx.state === 'running') return; try { if (!this.state.audioCtx) { this.state.audioCtx = new (window.AudioContext || window.webkitAudioContext)(); } if (this.state.audioCtx.state === 'suspended') { this.state.audioCtx.resume().then(() => { this.state.isAudioInitialized = true; }); } else { this.state.isAudioInitialized = true; } } catch (e) { console.error("Web Audio API desteklenmiyor."); this.state.isAudioInitialized = false; } },
        playSound(soundKey) { /* ... Ã–ncekiyle aynÄ± ... */ if (!this.state.isAudioInitialized || !this.state.audioCtx || this.state.audioCtx.state !== 'running') return; const sounds = { flip: { f: 200, t: 'triangle', d: 0.1 }, match: { f: 440, t: 'sine', d: 0.2 }, menuClick: { f: 600, t: 'square', d: 0.08 }, touch: { f: 300, t: 'sine', d: 0.05 }, correct: { f: 523.25, t: 'sine', d: 0.2 }, incorrect: { f: 164.81, t: 'square', d: 0.2 }, countdown: { f: 880, t: 'sine', d: 0.15 } }; const sound = sounds[soundKey]; if (!sound) return; const g = this.state.audioCtx.createGain(); g.connect(this.state.audioCtx.destination); g.gain.setValueAtTime(0, this.state.audioCtx.currentTime); g.gain.linearRampToValueAtTime(0.1, this.state.audioCtx.currentTime + 0.01); g.gain.linearRampToValueAtTime(0, this.state.audioCtx.currentTime + sound.d); const o = this.state.audioCtx.createOscillator(); o.type = sound.t; o.frequency.value = sound.f; o.connect(g); o.start(0); o.stop(this.state.audioCtx.currentTime + sound.d); },

        initStartScreenListeners() {
            // Oyuncu SeÃ§imi
            this.dom.playerSelect.addEventListener('click', e => {
                const button = e.target.closest('.player-button');
                if (!button) return;
                this.playSound('menuClick');
                this.state.selectedPlayers = parseInt(button.dataset.players, 10);
                this.updateSelection(this.dom.playerSelect, button);
                this.checkStartButtonState();
            });

            // Ders SeÃ§imi
            this.dom.lessonSelect.addEventListener('change', e => {
                this.playSound('menuClick');
                this.state.selectedLessonId = e.target.value;
                this.checkStartButtonState();
            });

            // BaÅŸla Butonu
            this.dom.startGameBtn.onclick = () => {
                this.playSound('menuClick');
                const { selectedPlayers, selectedLessonId } = this.state;
                if (!selectedPlayers || !selectedLessonId) return;

                const words = this.getWords(selectedLessonId);

                 // HafÄ±za oyunu iÃ§in minimum kelime kontrolÃ¼ (en az 2 Ã§ift)
                 if (!words || words.length < 2) {
                     alert("Bu ders iÃ§in hafÄ±za oyunu oynamaya yetecek kadar (en az 2) kelime bulunmamaktadÄ±r.");
                     return;
                 }
                 const wordPairsNeeded = Math.min(10, Math.floor(words.length)); // En fazla 10 Ã§ift kullan


                 // Yetersiz Ã§ift kontrolÃ¼ (oyun 10 Ã§iftten azÄ±nÄ± destekliyorsa bu kontrolÃ¼ kaldÄ±rÄ±n/ayarlayÄ±n)
                 // if (words.length < wordPairsNeeded) {
                 //     alert(`Bu ders iÃ§in hafÄ±za oyunu oynamak Ã¼zere yeterli kelime (en az ${wordPairsNeeded}) bulunmamaktadÄ±r.`);
                 //     return;
                 // }


                MemoryGame.start(words, selectedPlayers); // Kelimeleri ve oyuncu sayÄ±sÄ±nÄ± gÃ¶nder
                this.showScreen('game-screen');
            };
        },

        updateSelection(container, selectedButton) {
            container?.querySelectorAll('.selected').forEach(btn => btn.classList.remove('selected'));
            selectedButton?.classList.add('selected');
        },

        checkStartButtonState() {
            this.dom.startGameBtn.disabled = !(this.state.selectedPlayers && this.state.selectedLessonId);
        },

        // --- Ä°lerleme FonksiyonlarÄ± ---
        loadProgress() {
            const savedProgress = localStorage.getItem('unlockedMemoryLessons');
            if (savedProgress) {
                try {
                    this.state.unlockedLessons = JSON.parse(savedProgress);
                     // EÄŸer parse edilen ÅŸey bir dizi deÄŸilse veya boÅŸsa sÄ±fÄ±rla
                     if (!Array.isArray(this.state.unlockedLessons) || this.state.unlockedLessons.length === 0) {
                         this.state.unlockedLessons = ['grade9-unit1-lesson1']; // Ä°lk dersi ekle
                     }
                } catch (e) {
                    console.error("Ä°lerleme yÃ¼klenirken hata:", e);
                    this.state.unlockedLessons = ['grade9-unit1-lesson1']; // Hata durumunda sÄ±fÄ±rla
                }
            } else {
                this.state.unlockedLessons = ['grade9-unit1-lesson1']; // KayÄ±t yoksa ilk dersle baÅŸla
            }
             // console.log("YÃ¼klenen ilerleme:", this.state.unlockedLessons); // Debug iÃ§in
        },
        saveProgress() {
            try {
                localStorage.setItem('unlockedMemoryLessons', JSON.stringify(this.state.unlockedLessons));
                 // console.log("Kaydedilen ilerleme:", this.state.unlockedLessons); // Debug iÃ§in
            } catch (e) {
                console.error("Ä°lerleme kaydedilirken hata:", e);
            }
        },
         getAllLessonIdsOrdered() {
            const orderedIds = [];
            ['grade9', 'grade10'].forEach(gradeKey => {
                if (Data[gradeKey]?.words) {
                    Object.keys(Data[gradeKey].words).sort().forEach(unitKey => { // Ãœniteleri sÄ±rala
                         if (Data[gradeKey].words[unitKey]?.lessons) {
                             Object.keys(Data[gradeKey].words[unitKey].lessons).sort().forEach(lessonKey => { // Dersleri sÄ±rala
                                 orderedIds.push(`${gradeKey}-${unitKey}-${lessonKey}`);
                             });
                         }
                     });
                }
            });
            return orderedIds;
         },
        unlockNextLesson(completedLessonId) {
            const allLessonIds = this.getAllLessonIdsOrdered();
            const completedIndex = allLessonIds.indexOf(completedLessonId);

            if (completedIndex > -1 && completedIndex < allLessonIds.length - 1) {
                const nextLessonId = allLessonIds[completedIndex + 1];
                if (!this.state.unlockedLessons.includes(nextLessonId)) {
                    this.state.unlockedLessons.push(nextLessonId);
                    this.saveProgress();
                    console.log("Bir sonraki dersin kilidi aÃ§Ä±ldÄ±:", nextLessonId); // Bilgi
                     // Ä°steÄŸe baÄŸlÄ±: KullanÄ±cÄ±ya bilgi verilebilir
                     // alert("Tebrikler! Bir sonraki dersin kilidini aÃ§tÄ±nÄ±z.");
                }
            } else if (completedIndex === allLessonIds.length - 1) {
                console.log("TÃ¼m dersler tamamlandÄ±!");
                 // Ä°steÄŸe baÄŸlÄ±: TÃ¼m derslerin bittiÄŸine dair mesaj
                 // alert("Tebrikler! TÃ¼m dersleri tamamladÄ±nÄ±z!");
            }
        },

        populateLessonSelector() {
            if (!this.dom.lessonSelect) return;
            this.dom.lessonSelect.innerHTML = '<option value="" disabled selected>Ã–nce Ders SeÃ§in</option>'; // BaÅŸlÄ±ÄŸÄ± sÄ±fÄ±rla
            const allLessonIds = this.getAllLessonIdsOrdered();

             allLessonIds.forEach(lessonId => {
                 if (this.state.unlockedLessons.includes(lessonId)) {
                     const parts = lessonId.split('-'); // "grade9-unit1-lesson1"
                     const gradeKey = parts[0];
                     const unitKey = parts[1];
                     const lessonKey = parts[2];

                     const gradeTitle = Data[gradeKey]?.title || gradeKey;
                     const unitTitle = Data[gradeKey]?.words[unitKey]?.title?.tr || unitKey;
                     const lessonDesc = Data[gradeKey]?.words[unitKey]?.lessons[lessonKey]?.description?.tr || lessonKey;

                     const optionText = `${gradeTitle} - ${unitTitle} - ${lessonDesc}`;

                     const option = document.createElement('option');
                     option.value = lessonId;
                     option.textContent = optionText;
                     this.dom.lessonSelect.appendChild(option);
                 } else {
                     // Ä°steÄŸe baÄŸlÄ±: Kilitli dersleri de gÃ¶sterip disabled yapabiliriz
                     // const option = document.createElement('option');
                     // option.value = lessonId;
                     // option.textContent = `ðŸ”’ ${gradeTitle} - ${unitTitle} - ${lessonDesc}`;
                     // option.disabled = true;
                     // this.dom.lessonSelect.appendChild(option);
                 }
             });
             // Ã–nceki seÃ§imi (varsa) geri yÃ¼kle
             if (this.state.selectedLessonId && this.state.unlockedLessons.includes(this.state.selectedLessonId)) {
                 this.dom.lessonSelect.value = this.state.selectedLessonId;
             } else {
                 this.state.selectedLessonId = null; // SeÃ§imi sÄ±fÄ±rla eÄŸer kilitliyse
             }
        },

        getWords(lessonId) {
            if (!lessonId) return [];
            try {
                const parts = lessonId.split('-');
                const gradeKey = parts[0];
                const unitKey = parts[1];
                const lessonKey = parts[2];
                return Data[gradeKey]?.words[unitKey]?.lessons[lessonKey]?.words || [];
            } catch (e) {
                console.error("Kelime alÄ±nÄ±rken hata:", e);
                return [];
            }
        },

         initNavigation() { /* Oyun iÃ§i butonlar init/start iÃ§inde ele alÄ±nacak */ }


    };

    // --- MEMORY GAME MODULE (Ä°lerlemeli Tek Oyun iÃ§in GÃ¼ncellendi) ---
    const MemoryGame = {
        screenId: 'game-screen',
        state: { playerMode: 1 }, // VarsayÄ±lan tek kiÅŸilik
        dom: {}, // DOM elementleri start iÃ§inde bulunacak
        init() { /* Genel listenerlar buraya (varsa) */ },
        start(words, playerMode = 1) {
            this.state = { f: [], p: 0, l: false, c: 1, s1: 0, s2: 0, w: [], flipTimeout: null, playerMode: playerMode };

            const gameScreen = document.getElementById('game-screen');
            if (!gameScreen) return;
            // HTML'i dinamik oluÅŸtur
            gameScreen.innerHTML = `
                <div class="header-navigation"><button class="back-btn" title="BaÅŸlangÄ±Ã§ EkranÄ±"><svg viewBox="0 0 24 24"><path d="M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z"></path></svg></button></div>
                <div class="score-display" id="player1-display"> <svg viewBox="0 0 24 24"><path d="M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,14C16.42,14 20,15.79 20,18V20H4V18C4,15.79 7.58,14 12,14Z"></path></svg> <span id="score1">0</span> </div>
                <div id="game-board"></div>
                <div class="score-display" id="player2-display"> <svg viewBox="0 0 24 24"><path d="M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,14C16.42,14 20,15.79 20,18V20H4V18C4,15.79 7.58,14 12,14Z"></path></svg> <span id="score2">0</span> </div>
                <div class="game-over-overlay hidden" id="memory-game-over"> <div id="winner-icon-container"></div> <h2 id="memory-win-text"></h2> <div class="win-buttons"> <button class="icon-btn" id="play-again-memory-btn" title="Tekrar Oyna"><svg viewBox="0 0 24 24"><path d="M17.65,6.35C16.2,4.9 14.21,4 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z"></path></svg></button> <button class="icon-btn" id="back-to-start-memory-btn" title="Ana MenÃ¼"><svg viewBox="0 0 24 24"><path d="M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z"></path></svg></button> </div> </div>`;

            // Elementleri bul
            this.dom.board = document.getElementById('game-board'); this.dom.p1Display = document.getElementById('player1-display'); this.dom.p2Display = document.getElementById('player2-display'); this.dom.score1 = document.getElementById('score1'); this.dom.score2 = document.getElementById('score2'); this.dom.gameOverContainer = document.getElementById('memory-game-over'); this.dom.winText = document.getElementById('memory-win-text'); this.dom.winnerIcon = document.getElementById('winner-icon-container');

            // ListenerlarÄ± ekle
            gameScreen.querySelector('.back-btn').onclick = () => { App.playSound('menuClick'); App.showScreen('start-screen'); this.stop(); };
            document.getElementById('play-again-memory-btn').onclick = () => { App.playSound('menuClick'); this.start(App.getWords(App.state.selectedLessonId), this.state.playerMode); }; // SeÃ§ili dersle tekrar baÅŸlat
            document.getElementById('back-to-start-memory-btn').onclick = () => { App.playSound('menuClick'); App.showScreen('start-screen'); };

            // Oyuncu moduna gÃ¶re sÄ±nÄ±f ekle/kaldÄ±r
            gameScreen.classList.toggle('single-player-mode', this.state.playerMode === 1);

            const wordPairsNeeded = Math.min(10, Math.floor(words.length)); // En fazla 10 Ã§ift
            if (wordPairsNeeded < 2) {
                 console.error("HafÄ±za oyunu iÃ§in yeterli Ã§ift yok:", words);
                 alert("Bu ders iÃ§in yeterli kelime Ã§ifti (en az 2) bulunamadÄ±.");
                 App.showScreen('start-screen');
                 return;
             }

            this.state.w = Utils.shuffleArray(words).slice(0, wordPairsNeeded); // Mevcut kelimelerden kullan
            const pairs = this.state.w.flatMap(w => [{ content: w.arabic, id: w.id, lang: 'ar' }, { content: w.turkish, id: w.id, lang: 'tr' }]);
            this.populateBoard(Utils.shuffleArray(pairs));

            this.dom.score1.textContent = '0';
            this.dom.score2.textContent = '0';
            this.dom.gameOverContainer.classList.add('hidden');
            this.updateTurnIndicator();
        },
        stop() { if (this.state.flipTimeout) clearTimeout(this.state.flipTimeout); this.state.flipTimeout = null; },
        populateBoard(cards) { if (!this.dom.board) return; this.dom.board.innerHTML = ''; const numCards = cards.length; let cols = 5; let rows = Math.ceil(numCards / cols); if (numCards <= 16) { cols = 4; rows = Math.ceil(numCards/cols); } if (numCards <= 12) { cols = 4; rows = 3; } if (numCards <= 8) { cols = 4; rows = 2; } this.dom.board.style.gridTemplateColumns = `repeat(${cols}, 1fr)`; this.dom.board.style.gridTemplateRows = `repeat(${rows}, 1fr)`; cards.forEach(cardData => { const cardEl = document.createElement('div'); cardEl.className = 'card'; cardEl.dataset.id = cardData.id; const formattedContent = cardData.content; const fontStyle = cardData.lang === 'ar' ? "font-family: 'Harmattan', sans-serif;" : ""; cardEl.innerHTML = `<div class="card-inner"><div class="card-face card-front"></div><div class="card-face card-back" dir="${cardData.lang === 'tr' ? 'ltr' : 'rtl'}" style="${fontStyle}">${formattedContent}</div></div>`; cardEl.onclick = () => this.flipCard(cardEl); this.dom.board.appendChild(cardEl); }); },
        flipCard(card) {
            if (this.state.l || card.classList.contains('flipped') || card.classList.contains('matched')) return;
            App.playSound('flip'); card.classList.add('flipped');
            // SÄ±rayÄ± sadece iki kiÅŸilikte gÃ¶ster
            if (this.state.playerMode === 2) { card.classList.add(this.state.c === 1 ? 'p1-turn' : 'p2-turn'); }
            else { card.classList.add('p1-turn'); } // Tek kiÅŸilikte hep p1 gibi gÃ¶rÃ¼nsÃ¼n

            this.state.f.push(card);
            if (this.state.f.length === 2) {
                this.state.l = true; const [c1, c2] = this.state.f;
                if (c1.dataset.id === c2.dataset.id) {
                    App.playSound('match'); let matchClass = 'p1-match'; // VarsayÄ±lan tek oyuncu
                    if (this.state.playerMode === 1) { this.dom.score1.textContent = ++this.state.s1; }
                    else { // Ä°ki oyuncu
                        matchClass = this.state.c === 1 ? 'p1-match' : 'p2-match';
                        if (this.state.c === 1) this.dom.score1.textContent = ++this.state.s1; else this.dom.score2.textContent = ++this.state.s2;
                    }
                    this.state.f.forEach(c => { c.classList.remove('p1-turn', 'p2-turn'); c.classList.add('matched', matchClass); });
                    this.state.p++; this.state.f = []; this.state.l = false;
                    if (this.state.p === this.state.w.length) {
                         // Oyunu bitir ve ilerlemeyi kaydet
                         setTimeout(() => {
                             this.showEndUI();
                             App.unlockNextLesson(App.state.selectedLessonId); // Bir sonraki dersi aÃ§
                         }, 700);
                     }
                } else {
                    if (this.state.flipTimeout) clearTimeout(this.state.flipTimeout);
                    this.state.flipTimeout = setTimeout(() => {
                        this.state.f.forEach(c => { c.classList.remove('flipped', 'p1-turn', 'p2-turn'); }); this.state.f = [];
                        if (this.state.playerMode === 2) { this.state.c = this.state.c === 1 ? 2 : 1; this.updateTurnIndicator(); } // Sadece iki kiÅŸilikte sÄ±ra deÄŸiÅŸir
                        this.state.l = false; this.state.flipTimeout = null;
                    }, 1200);
                }
            }
        },
        updateTurnIndicator() {
             if (this.state.playerMode === 1) {
                 if (this.dom.p1Display) this.dom.p1Display.classList.add('active'); // Tek kiÅŸilikte hep aktif
                 if (this.dom.p2Display) this.dom.p2Display.classList.remove('active');
             } else {
                 if (this.dom.p1Display) this.dom.p1Display.classList.toggle('active', this.state.c === 1);
                 if (this.dom.p2Display) this.dom.p2Display.classList.toggle('active', this.state.c !== 1);
             }
         },
        showEndUI() {
             if (!this.dom.gameOverContainer || !this.dom.winText || !this.dom.winnerIcon) return;
             let text = ''; let winner = 0; let winnerClass = ''; const iconSVG = `<svg viewBox="0 0 24 24"><path d="M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,14C16.42,14 20,15.79 20,18V20H4V18C4,15.79 7.58,14 12,14Z" /></svg>`;

             if (this.state.playerMode === 1) {
                 text = `Tebrikler! Skor: ${this.state.s1}`;
                 winnerClass = 'p1-win'; // Tek oyuncu ikonu iÃ§in
                 this.dom.winnerIcon.innerHTML = iconSVG;
             } else {
                 if (this.state.s1 > this.state.s2) { text = '1. Oyuncu KazandÄ±!'; winner = 1; winnerClass = 'p1-win'; this.dom.winnerIcon.innerHTML = iconSVG; }
                 else if (this.state.s2 > this.state.s1) { text = '2. Oyuncu KazandÄ±!'; winner = 2; winnerClass = 'p2-win'; this.dom.winnerIcon.innerHTML = iconSVG; }
                 else { text = 'Berabere!'; winnerClass = 'draw'; this.dom.winnerIcon.innerHTML = iconSVG + iconSVG; }
             }

             this.dom.winText.innerText = text;
             this.dom.winText.className = ''; this.dom.winnerIcon.className = '';
             this.dom.winText.classList.add(winnerClass);
             this.dom.winnerIcon.classList.add('winner-icon', winnerClass);
             this.dom.gameOverContainer.classList.remove('hidden');
         }
    };


    App.init();

    });

</script>
</body>
</html>